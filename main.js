(()=>{let e=[{name:"defaultProject",toDo:[]}],t=e[0];const o=document.querySelector("#home"),n=document.querySelector("#add-task"),c=document.querySelector("#add-project"),l=document.querySelector("#cancel-project"),d=document.querySelector("#cancel-add"),u=document.querySelector("#submit-add"),r=document.querySelector("#submit-project"),a=document.querySelector(".project-list"),i=document.querySelector(".todo-list"),s=document.querySelector(".popup-task"),p=document.querySelector(".popup-project"),m=document.querySelector("#project-name");function y(){for(let e=0;e<t.toDo.length;e++){let o=t.toDo[e];const n=document.createElement("div");n.classList.add("todo-item");const c=document.createElement("input");c.type="checkbox",c.setAttribute("id","is-done"),c.onclick=()=>{c.checked?(n.style="text-decoration: line-through",o.isDone=!0):(n.style="text-decoration: none",o.isDone=!1)};const l=document.createElement("input");l.value=o.task,l.onchange=()=>o.task=l.value;const d=document.createElement("input");d.type="date",d.value=o.due,d.onchange=()=>o.due=d.value;const u=document.createElement("button");u.setAttribute("data",e),u.textContent="Delete",u.onclick=()=>{t.toDo.splice(u.getAttribute("data"),1),n.remove()},o.isDone&&n.classList.add("done"),n.appendChild(c),n.appendChild(l),n.appendChild(d),n.appendChild(u),i.appendChild(n)}}o.onclick=()=>{m.textContent="Home",function(){for(element of(i.innerHTML="",e))t=element,y()}()},c.onclick=()=>{p.style.display="block"},n.onclick=()=>{n.style.display="none",s.style.display="block"},l.onclick=()=>{p.style.display="none"},d.onclick=()=>{n.style.display="block",s.style.display="none"},u.onclick=()=>{const e=document.querySelector("#task").value;if(document.querySelector("#task").value="",!e)return;i.innerHTML="";const o=document.querySelector("#date").value;document.querySelector("#date").value="",function(e,o){t.toDo.push({task:e,due:o,isDone:!1})}(e,o),y(),n.style.display="block",s.style.display="none"},r.onclick=()=>{const o=document.querySelector("#project").value;var n;document.querySelector("#project").value="",o&&(a.innerHTML="",n=o,e.push({name:n,toDo:[]}),function(){for(let o=0;o<e.length;o++){if(0==o)continue;const n=document.createElement("div"),c=document.createElement("button"),l=document.createElement("button");l.setAttribute("data",o),l.textContent="Delete",l.onclick=()=>{e.splice(l.getAttribute("data"),1),n.remove()},l.setAttribute("id","delete-project"),c.textContent=e[o].name,c.onclick=()=>{t=e[o],m.textContent=t.name,i.innerHTML="",y(),console.log(t)},n.appendChild(c),n.appendChild(l),a.appendChild(n)}}(),p.style.display="none")}})();